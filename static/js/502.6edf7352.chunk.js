"use strict";(self.webpackChunkmedium_clone=self.webpackChunkmedium_clone||[]).push([[502],{9502:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var l=n(4165),s=n(1413),o=n(5861),i=n(5705),c=n(2791),a=n(6912),r=n(1724),d=r.Ry({title:r.Z_().required("Title is required").min(5,"Minimum 5 characters required").matches(/^[a-zA-Z\s/]*$/g,"Invalid title").trim(),sub_title:r.Z_().required("Sub Title is required").min(5,"Minimum 5 characters required").matches(/^[a-zA-Z\s]*$/,"Invalid sub-title").trim(),content:r.IX().of(r.Ry().shape({style:r.Z_(),contentText:r.Z_().required("Content is required").min(5,"Minimum 5 characters required").trim()})),category:r.Z_().required("Category is required").trim()}),u=n(9062),m=n(326),x=n(9085),b=(n(5462),n(184)),f=function(){var e=(0,c.useContext)(a.Vo).authData,t=(0,c.useRef)(null),n={position:"top-right",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0},r=function(){var t=(0,o.Z)((0,l.Z)().mark((function t(o,i){var c;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=(0,u.JU)((0,u.hJ)(m.db,"articles")),t.next=3,(0,u.pl)(c,(0,s.Z)((0,s.Z)({},o),{},{date:(0,u.Bt)(),author:null===e||void 0===e?void 0:e.displayName,author_image:null===e||void 0===e?void 0:e.photoURL}));case 3:i(),x.Am.success("Posted Successfully",n);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){return window.scrollTo(0,0),function(){}}),[]),(0,b.jsxs)("div",{className:"w-full max-w-[40rem] mx-auto px-6 py-10 mt-20",children:[(0,b.jsx)("h2",{className:"font-semibold text-xl mb-10 text-center underline",children:"Lets get Started writing an article"}),(0,b.jsx)("div",{children:(0,b.jsx)(i.J9,{initialValues:{title:"",sub_title:"",content:[{style:"",contentText:""}],post_image:"",category:""},validationSchema:d,validateOnChange:!1,onSubmit:function(e,t){var n=t.resetForm;r(e,n)},children:function(e){var n=e.errors,l=e.values,s=e.setFieldValue;return(0,b.jsxs)(i.l0,{autoComplete:"off",children:[(0,b.jsxs)("div",{className:"flex flex-col space-y-1 relative",children:[(0,b.jsx)("label",{className:"font-semibold text-base",htmlFor:"title",children:"Title"}),(0,b.jsx)(i.gN,{className:"border-2 border-gray-400 focus:outline-none px-2 py-1 rounded-md",type:"text",name:"title",id:"title"}),(0,b.jsx)("p",{className:"text-sm text-red-600 font-semibold",children:n.title})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-1 relative mt-6",children:[(0,b.jsx)("label",{className:"font-semibold text-base",htmlFor:"sub_title",children:"Sub Title"}),(0,b.jsx)(i.gN,{className:"border-2 border-gray-400 focus:outline-none px-2 py-1 rounded-md",type:"text",name:"sub_title",id:"sub_title"}),(0,b.jsx)("p",{className:"text-sm text-red-600 font-semibold",children:n.sub_title})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-1 relative mt-6",children:[(0,b.jsx)("label",{className:"font-semibold text-base",htmlFor:"category",children:"Category"}),(0,b.jsx)(i.gN,{className:"border-2 border-gray-400 focus:outline-none px-2 py-1 rounded-md",type:"text",name:"category",id:"category"}),(0,b.jsx)("p",{className:"text-sm text-red-600 font-semibold",children:n.category})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-1 relative mt-6",children:[(0,b.jsx)("label",{className:"font-semibold text-base",htmlFor:"content",children:"Content"}),(0,b.jsx)(i.F2,{name:"content",children:function(e){var o=e.push,c=e.remove;return(0,b.jsxs)("div",{className:"flex flex-col space-y-0",children:[l.content.length>0&&l.content.map((function(e,t){var o;return(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("button",{className:"".concat(0===t&&"hidden"," text-3xl mb-2 w-20 text-right self-end"),onClick:function(){c(t)},children:"-"}),(0,b.jsxs)("div",{className:"flex justify-between items-start space-x-3",children:[(0,b.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,b.jsx)(i.gN,{className:"border-2 border-gray-400 focus:outline-none px-2 py-1 rounded-md w-full ".concat(l.content[t].style),as:"textarea",rows:4,name:"content[".concat(t,"].contentText"),id:"content[".concat(t,"]")}),(0,b.jsx)("p",{className:"text-sm text-red-600 font-semibold",children:n.content&&(null===(o=n.content[t])||void 0===o?void 0:o.contentText)})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,b.jsx)("button",{type:"button",className:"italic text-lg px-3 py-0.5 rounded-md ".concat("italic"===l.content[t].style&&"bg-black bg-opacity-90 text-white"),onClick:function(){s("content[".concat(t,".style]"),"italic")},children:"i"}),(0,b.jsx)("button",{type:"button",className:"font-bold text-lg px-3 py-0.5 rounded-md ".concat("font-bold"===l.content[t].style&&"bg-black bg-opacity-90 text-white"),onClick:function(){s("content[".concat(t,".style]"),"font-bold")},children:"B"}),(0,b.jsx)("button",{type:"button",className:"underline text-lg px-3 py-0.5 rounded-md ".concat("underline"===l.content[t].style&&"bg-black bg-opacity-90 text-white"),onClick:function(){s("content[".concat(t,".style]"),"underline")},children:"U"})]})]})]},t)})),(0,b.jsx)("button",{type:"button",ref:t,onClick:function(){o("")}})]})}}),(0,b.jsx)("button",{type:"button",className:"w-40 text-left",onClick:function(){t.current&&t.current.click()},children:"+ Add more content"})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-1 relative mt-6",children:[(0,b.jsx)("label",{className:"font-semibold text-base",htmlFor:"image_url",children:"Image URL"}),(0,b.jsx)(i.gN,{className:"border-2 border-gray-400 focus:outline-none px-2 py-1 rounded-md",name:"post_image",id:"post_image"})]}),(0,b.jsx)("button",{className:"bg-black text-white rounded-3xl text-xl font-semibold w-full px-8 py-2 mt-10 bg-opacity-90 hover:bg-opacity-100",type:"submit",children:"Publish"})]})}})}),(0,b.jsx)(x.Ix,{})]})}}}]);
//# sourceMappingURL=502.6edf7352.chunk.js.map